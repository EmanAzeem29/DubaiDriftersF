  <!-- JavaScript -->
  <script>
    // Cart functionality - No localStorage
    let cartItems = [];
    const cartBtn = document.getElementById('cartBtn');
    const closeCart = document.getElementById('closeCart');
    const overlay = document.getElementById('overlay');
    const cartPanel = document.getElementById('cartPanel');
    const cartCount = document.getElementById('cartCount');
    const cartCountMobile = document.getElementById('cartCountMobile');
    const cartItemsContainer = document.getElementById('cartItems');
    const emptyCart = document.getElementById('emptyCart');
    const cartSubtotal = document.getElementById('cartSubtotal');
    const cartTax = document.getElementById('cartTax');
    const cartTotal = document.getElementById('cartTotal');
    const checkoutBtn = document.getElementById('checkoutBtn');

    // Initialize toast
    const Toast = {
      init() {
        this.hideTimeout = null;
        
        this.el = document.createElement('div');
        this.el.className = 'toast';
        document.body.appendChild(this.el);
      },
      
      show(message) {
        clearTimeout(this.hideTimeout);
        
        this.el.textContent = message;
        this.el.className = 'toast toast-visible fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg';
        
        this.hideTimeout = setTimeout(() => {
          this.el.classList.remove('toast-visible');
        }, 3000);
      }
    };

    // Initialize toast on DOM load
    document.addEventListener('DOMContentLoaded', () => {
      Toast.init();
      updateCart();
    });

    // Open cart panel
    cartBtn.addEventListener('click', () => {
      cartPanel.classList.add('open');
      overlay.classList.add('open');
      document.body.style.overflow = 'hidden';
    });

    // Also open from mobile cart button if present
    const cartBtnMobile = document.getElementById('cartBtnMobile');
    if (cartBtnMobile) {
      cartBtnMobile.addEventListener('click', () => {
        cartPanel.classList.add('open');
        overlay.classList.add('open');
        document.body.style.overflow = 'hidden';
      });
    }

    // Close cart panel
    closeCart.addEventListener('click', closeCartPanel);
    overlay.addEventListener('click', closeCartPanel);

    function closeCartPanel() {
      cartPanel.classList.remove('open');
      overlay.classList.remove('open');
      document.body.style.overflow = 'auto';
    }

    // Add to cart function
    function addToCart(name, price) {
      // Check if item already exists in cart
      const existingItemIndex = cartItems.findIndex(item => item.name === name);
      
      if (existingItemIndex !== -1) {
        // If exists, increase quantity
        cartItems[existingItemIndex].quantity += 1;
      } else {
        // If not exists, add new item
        cartItems.push({
          name: name,
          price: price,
          quantity: 1
        });
      }
      
      updateCart();
      
      // Show confirmation message
      Toast.show(`${name} added to cart!`);
    }

    // Remove item from cart
    function removeFromCart(index) {
      cartItems.splice(index, 1);
      updateCart();
    }

    // Update quantity
    function updateQuantity(index, change) {
      cartItems[index].quantity += change;
      
      if (cartItems[index].quantity <= 0) {
        removeFromCart(index);
      } else {
        updateCart();
      }
    }

    // Update cart UI
    function updateCart() {
      // Update cart count
      const totalItems = cartItems.reduce((total, item) => total + item.quantity, 0);
      if (cartCount) cartCount.textContent = totalItems;
      if (cartCountMobile) cartCountMobile.textContent = totalItems;
      
      // Show empty cart message if no items
      if (cartItems.length === 0) {
        emptyCart.style.display = 'block';
        checkoutBtn.disabled = true;
      } else {
        emptyCart.style.display = 'none';
        checkoutBtn.disabled = false;
      }
      
      // Clear cart items container
      cartItemsContainer.innerHTML = '';
      
      // Add items to cart
      cartItems.forEach((item, index) => {
        const cartItemElement = document.createElement('div');
        cartItemElement.className = 'flex justify-between items-center mb-4 pb-4 border-b';
        cartItemElement.innerHTML = `
          <div class="flex-1">
            <h4 class="font-semibold">${item.name}</h4>
            <p class="text-gray-600">$${item.price} x ${item.quantity}</p>
          </div>
          <div class="flex items-center">
            <button onclick="updateQuantity(${index}, -1)" class="text-gray-500 hover:text-gray-700 mr-2">
              <i class="fas fa-minus-circle"></i>
            </button>
            <span class="mx-1">${item.quantity}</span>
            <button onclick="updateQuantity(${index}, 1)" class="text-gray-500 hover:text-gray-700 ml-2">
              <i class="fas fa-plus-circle"></i>
            </button>
            <button onclick="removeFromCart(${index})" class="text-red-500 hover:text-red-700 ml-4">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        `;
        cartItemsContainer.appendChild(cartItemElement);
      });
      
      // Calculate totals
      const subtotal = cartItems.reduce((total, item) => total + (item.price * item.quantity), 0);
      const tax = subtotal * 0.05;
      const total = subtotal + tax;
      
      // Update totals
      cartSubtotal.textContent = `$${subtotal.toFixed(2)}`;
      cartTax.textContent = `$${tax.toFixed(2)}`;
      cartTotal.textContent = `$${total.toFixed(2)}`;
    }

    // Checkout button - Pass cart items as URL parameters
    checkoutBtn.addEventListener('click', () => {
      if (cartItems.length === 0) {
        Toast.show('Please add items to cart first!');
        return;
      }
      
      // Convert cart items to URL parameters
      const cartParams = new URLSearchParams();
      cartItems.forEach((item, index) => {
        cartParams.append(`item${index}`, `${item.name}|${item.price}|${item.quantity}`);
      });
      
      // Redirect to cart.html with cart data
      window.location.href = `cart.html?${cartParams.toString()}`;
    });

    // Initialize empty cart
    updateCart();
  </script>
