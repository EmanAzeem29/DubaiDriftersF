<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dubai Drifters - Tours</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
    }
    .cart-panel {
      transform: translateX(100%);
      transition: transform 0.4s ease-in-out;
    }
    .cart-panel.open {
      transform: translateX(0);
    }
    .overlay {
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.4s ease-in-out;
    }
    .overlay.open {
      opacity: 1;
      visibility: visible;
    }
    .tour-card {
      transition: all 0.3s ease;
    }
    .tour-card:hover {
      transform: translateY(-5px);
    }
    .tour-image {
      height: 220px;
      object-fit: cover;
      width: 100%;
    }
    .toast {
      visibility: hidden;
      opacity: 0;
      transition: opacity 0.3s, visibility 0.3s;
    }
    .toast-visible {
      visibility: visible;
      opacity: 1;
    }
    .loading-spinner {
      border: 2px solid #f3f3f3;
      border-top: 2px solid #3498db;
      border-radius: 50%;
      width: 16px;
      height: 16px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .image-placeholder {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
      min-height: 192px;
    }
    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
  </style>
</head>
<body class="bg-[#FDF6EC]">

  <!-- Header -->
  <header class="bg-gradient-to-r from-black via-[#1a1a1a] to-[#0d0d0d] sticky top-0 z-50 shadow-lg">
    <div class="container mx-auto flex justify-between items-center py-4 px-6">
      <!-- Logo -->
      <a href="index.html" class="flex items-center space-x-3">
        <img src="logo.jpg" alt="Logo" class="h-14 w-14 rounded-full object-cover border-4 border-[#C89B52] shadow-lg" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiByeD0iMzIiIGZpbGw9IiNDODlCNTIiLz4KPHN2Zz4K'">
        <span class="text-2xl font-bold text-[#C89B52]">Dubai Drifters</span>
      </a>

      <!-- Desktop Nav -->
      <nav class="hidden md:flex items-center space-x-6 text-sm text-white font-medium">
        <a href="index.html" class="hover:text-[#C89B52]">Home</a>
        <a href="about.html" class="hover:text-[#C89B52]">About</a>
        <a href="tours.html" class="text-[#C89B52] font-semibold">Tours</a>
        <a href="blog.html" class="hover:text-[#C89B52]">Blog</a>
        <a href="contact.html" class="hover:text-[#C89B52]">Contact</a>
        <!-- Cart -->
        <button id="cartBtn" class="relative hover:text-[#C89B52]">
          <i class="fas fa-shopping-cart text-lg"></i>
          <span id="cartCount" class="bg-[#C89B52] text-black text-xs font-bold rounded-full px-1.5 py-0.5 absolute -top-2 -right-2">0</span>
        </button>
      </nav>

      <!-- Mobile Menu Button -->
      <button id="mobileMenuBtn" class="md:hidden text-white text-2xl">
        <i class="fas fa-bars"></i>
      </button>
    </div>

    <!-- Mobile Nav -->
    <div id="mobileMenu" class="hidden md:hidden bg-black bg-opacity-95 text-white text-center space-y-4 py-6">
      <a href="index.html" class="block hover:text-[#C89B52] py-2">Home</a>
      <a href="about.html" class="block hover:text-[#C89B52] py-2">About</a>
      <a href="tours.html" class="block text-[#C89B52] font-semibold py-2">Tours</a>
      <a href="blog.html" class="block hover:text-[#C89B52] py-2">Blog</a>
      <a href="contact.html" class="block hover:text-[#C89B52] py-2">Contact</a>
      <!-- Cart in mobile -->
      <button id="cartBtnMobile" class="relative hover:text-[#C89B52] py-2">
        <i class="fas fa-shopping-cart text-lg"></i>
        <span id="cartCountMobile" class="bg-[#C89B52] text-black text-xs font-bold rounded-full px-1.5 py-0.5 absolute -top-2 -right-2">0</span>
      </button>
    </div>
  </header>

  <!-- Overlay + Cart -->
  <div id="overlay" class="overlay fixed inset-0 bg-black bg-opacity-50 z-40"></div>
  <div id="cartPanel" class="cart-panel fixed top-0 right-0 h-full w-full md:w-96 bg-white z-50 shadow-2xl overflow-y-auto">
    <div class="p-6">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-[#0F172A]">Your Cart</h2>
        <button id="closeCart" class="text-gray-500 hover:text-gray-700"><i class="fas fa-times text-xl"></i></button>
      </div>
      <!-- Items -->
      <div id="cartItems" class="space-y-4">
        <p id="emptyCart" class="text-center text-gray-500 py-8">Your cart is empty</p>
      </div>
      <!-- Summary -->
      <div class="border-t pt-4 mt-6">
        <div class="flex justify-between mb-2"><span>Subtotal:</span> <span id="cartSubtotal">$0</span></div>
        <div class="flex justify-between mb-2"><span>Tax (5%):</span> <span id="cartTax">$0</span></div>
        <div class="flex justify-between font-bold text-lg"><span>Total:</span> <span id="cartTotal" class="text-[#C89B52]">$0</span></div>
        <button id="checkoutBtn" disabled class="mt-4 w-full bg-[#C89B52] text-white py-3 rounded-lg font-semibold hover:bg-[#a67c3b] transition disabled:opacity-50">Proceed to Checkout</button>
      </div>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="relative bg-cover bg-center h-72" style="background-image: url('jummeirahBeach.jpg');">
    <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center">
      <h1 class="text-white text-4xl md:text-5xl font-bold">Explore Tours</h1>
    </div>
  </section>

  <!-- Tours Section -->
  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-6">
      <h2 class="text-4xl font-bold text-center mb-4 text-[#0F172A]">Discover Dubai's Wonders</h2>
      <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">Explore the most iconic landmarks and experiences that Dubai has to offer with our expertly curated tours.</p>

      <div id="toursContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
        <!-- Tours will be loaded dynamically -->
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white">
    <div class="container mx-auto px-4 py-10">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <h4 class="font-bold text-lg mb-4">About Dubaidrifters.com</h4>
          <p class="text-sm text-gray-400">Your trusted partner for exploring the wonders of Dubai. We provide a wide range of tours, activities, and travel services to make your trip memorable.</p>
        </div>
        <div>
          <h4 class="font-bold text-lg mb-4">Support</h4>
          <ul class="space-y-2 text-sm">
            <li><a class="text-gray-400 hover:text-white" href="contact.html">Contact Us</a></li>
            <li><a class="text-gray-400 hover:text-white" href="#">FAQs</a></li>
            <li><a class="text-gray-400 hover:text-white" href="termsandconditions.html">Terms & Conditions</a></li>
            <li><a class="text-gray-400 hover:text-white" href="#">Privacy Policy</a></li>
          </ul>
        </div>
        <div>
          <h4 class="font-bold text-lg mb-4">Follow Us</h4>
          <div class="flex space-x-2">
            <a class="text-gray-400 hover:text-white" href="https://www.facebook.com/YourPageName" target="_blank">
              <i class="fab fa-facebook"></i>
            </a>
            <a class="text-gray-400 hover:text-white" href="https://wa.me/923001234567" target="_blank">
              <i class="fab fa-whatsapp"></i>
            </a>
            <a class="text-gray-400 hover:text-white" href="https://www.instagram.com/YourUsername" target="_blank">
              <i class="fab fa-instagram"></i>
            </a>
          </div>
          <h4 class="font-bold text-lg mt-6 mb-4">Payment Methods</h4>
          <div class="flex space-x-2">
            <a href="https://www.easypaisa.com.pk" target="_blank" rel="noopener noreferrer" class="text-xs bg-gray-700 px-2 py-1 rounded hover:bg-gray-600 transition">
              EasyPaisa
            </a>
          </div>
        </div>
        <div>
          <h4 class="font-bold text-lg mb-4">Newsletter</h4>
          <p class="text-sm text-gray-400 mb-4">Subscribe to our newsletter for exclusive offers and updates.</p>
          <form id="newsletterForm" class="flex">
            <input id="newsletterEmail" class="w-full rounded-l-md p-2 text-gray-800 focus:outline-none" placeholder="Your email" type="email" required/>
            <button id="newsletterBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 rounded-r-md transition-colors flex items-center" type="submit">
              <span id="newsletterBtnText">Subscribe</span>
              <div id="newsletterSpinner" class="loading-spinner hidden"></div>
            </button>
          </form>
        </div>
      </div>
      <div class="border-t border-gray-700 mt-8 pt-6 text-center text-sm text-gray-500">
        <p>© 2025 Dubaidrifters.com. All Rights Reserved.</p>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
    // API Configuration
    const API_BASE_URL = "https://api.dubaidrifters.com/api";

    // Global state
    let cartItems = [];
    let tours = [];
    let currentCurrency = localStorage.getItem('preferredCurrency') || 'USD';
    let currentLanguage = localStorage.getItem('preferredLanguage') || 'English';

    // DOM Elements
    const cartBtn = document.getElementById('cartBtn');
    const closeCart = document.getElementById('closeCart');
    const overlay = document.getElementById('overlay');
    const cartPanel = document.getElementById('cartPanel');
    const cartCount = document.getElementById('cartCount');
    const cartCountMobile = document.getElementById('cartCountMobile');
    const cartItemsContainer = document.getElementById('cartItems');
    const emptyCart = document.getElementById('emptyCart');
    const cartSubtotal = document.getElementById('cartSubtotal');
    const cartTax = document.getElementById('cartTax');
    const cartTotal = document.getElementById('cartTotal');
    const checkoutBtn = document.getElementById('checkoutBtn');
    const toursContainer = document.getElementById('toursContainer');
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileMenu = document.getElementById('mobileMenu');

    // Currency conversion rates
    const exchangeRates = {
      usd: { usd: 1, aed: 3.67, eur: 0.92, gbp: 0.79, pkr: 278.5 },
      aed: { usd: 0.27, aed: 1, eur: 0.25, gbp: 0.22, pkr: 75.8 },
      eur: { usd: 1.09, aed: 4.0, eur: 1, gbp: 0.86, pkr: 302.5 },
      gbp: { usd: 1.27, aed: 4.66, eur: 1.16, gbp: 1, pkr: 352.5 },
      pkr: { usd: 0.0036, aed: 0.013, eur: 0.0033, gbp: 0.0028, pkr: 1 }
    };

    // Utility Functions
    const showToast = (message, type = 'success') => {
      const toast = document.createElement('div');
      toast.className = `toast toast-visible fixed bottom-4 left-1/2 transform -translate-x-1/2 ${type === 'success' ? 'bg-green-500' : 'bg-red-500'} text-white px-6 py-3 rounded-lg shadow-lg z-50`;
      toast.textContent = message;
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.remove();
      }, 3000);
    };

    const convertCurrency = (price, fromCurrency, toCurrency) => {
      const fromRate = exchangeRates[fromCurrency.toLowerCase()];
      if (!fromRate) return price;
      const rate = fromRate[toCurrency.toLowerCase()];
      return rate ? price * rate : price;
    };

    const formatPrice = (price, currency = currentCurrency) => {
      const symbols = {
        'USD': '$',
        'AED': 'AED ',
        'EUR': '€',
        'GBP': '£',
        'PKR': 'Rs '
      };
      const convertedPrice = convertCurrency(price, 'USD', currency);
      return `${symbols[currency]}${convertedPrice.toFixed(2)}`;
    };

    // API Functions
    const api = {
      async get(url) {
        try {
          const response = await fetch(`${API_BASE_URL}${url}`);
          if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
          return await response.json();
        } catch (error) {
          console.error('API GET Error:', error);
          throw error;
        }
      },
      async post(url, data) {
        try {
          const response = await fetch(`${API_BASE_URL}${url}`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(data)
          });
          if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
          return await response.json();
        } catch (error) {
          console.error('API POST Error:', error);
          throw error;
        }
      }
    };

    // Tours Functions
    const loadTours = async () => {
      try {
        // Try to fetch tours from backend
        const data = await api.get('/tours?limit=30&sort=popular');
        
        // Check if data structure matches expected format
        if (data && data.success && data.data && data.data.tours) {
          tours = data.data.tours;
          displayTours(tours);
        } else if (data && Array.isArray(data)) {
          // If the API returns a simple array
          tours = data;
          displayTours(tours);
        } else {
          // Fallback to static tours if API structure is different
          console.warn('Unexpected API response format, using fallback tours');
          displayFallbackTours();
        }
      } catch (error) {
        console.error('Error loading tours from API:', error);
        // Fallback to static tours if API is unavailable
        displayFallbackTours();
      }
    };

    const displayTours = (tours) => {
      if (!tours || tours.length === 0) {
        toursContainer.innerHTML = `
          <div class="col-span-full text-center py-8">
            <span class="material-icons text-4xl text-gray-400 mb-2">beach_access</span>
            <p class="text-gray-600">No tours available at the moment.</p>
          </div>
        `;
        return;
      }
      
      toursContainer.innerHTML = tours.map(tour => `
        <div class="tour-card bg-white shadow-lg rounded-xl overflow-hidden">
          <img alt="${tour.name}" class="tour-image" 
               src="${tour.images && tour.images[0] ? tour.images[0] : 
                     tour.image ? tour.image : 
                     'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjIyMCIgdmlld0JveD0iMCAwIDMyMCAyMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMjAiIGhlaWdodD0iMjIwIiBmaWxsPSIjRjBGMEYwIi8+CjxwYXRoIGQ9Ik0xNjAgMTEwTDEyOCA3OEgxOTJMMTYwIDExMFoiIGZpbGw9IiNDODlCNTIiLz4KPGNpcmNsZSBjeD0iMTYwIiBjeT0iMTMwIiByPSI4IiBmaWxsPSIjQzg5QjUyIi8+Cjwvc3ZnPgo='}" 
               onerror="this.classList.add('image-placeholder')"/>
          <div class="p-6">
            <h3 class="text-xl font-semibold mb-2">${tour.name}</h3>
            <p class="text-gray-600 mb-4">${tour.shortDescription || tour.description || 'Explore this amazing destination'}</p>
            <div class="flex justify-between items-center">
              <span class="text-[#C89B52] font-bold text-lg">${formatPrice(tour.price)}</span>
              <button onclick="addToCart('${tour._id || tour.id}', '${tour.name}', ${tour.price})" 
                      class="bg-[#C89B52] text-black px-4 py-2 rounded-lg hover:bg-[#a67c3b] transition">
                Add to Cart
              </button>
            </div>
          </div>
        </div>
      `).join('');
    };

    // Fallback tours if API is not available
    const displayFallbackTours = () => {
      const fallbackTours = [
        { id: 1, name: "Alqasar Hotel", price: 120, image: "AlqasarHotel.jpg", description: "Experience luxury in the heart of Dubai with stunning Arabian architecture." },
        { id: 2, name: "Dubai City Tour", price: 90, image: "https://images.unsplash.com/photo-1512453979798-5ea266f8880c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Guided city tour covering major landmarks." },
        { id: 3, name: "Burj Khalifa Experience", price: 150, image: "BurjKhalifa.avif", description: "Observation deck tickets & Dubai Mall visit." },
        { id: 4, name: "Luxury Dhow Cruise", price: 80, image: "DhowCruise.avif", description: "Dinner cruise with live entertainment." },
        { id: 5, name: "Atlantis Adventure", price: 110, image: "Atlantis.webp", description: "Aquaventure Waterpark + The Lost Chambers." },
        { id: 6, name: "Marina Walk Tour", price: 70, image: "DubaiMarina.jpg", description: "Explore Dubai Marina promenade & skyline views." },
        { id: 7, name: "Cultural Evening", price: 95, image: "CulturalEvening.avif", description: "Traditional dinner with belly dance & fire shows." },
        { id: 8, name: "Palm Jumeirah Visit", price: 60, image: "PalmJumeirah.avif", description: "Visit the man-made wonder island." },
        { id: 9, name: "Adventure Water Sports", price: 130, image: "WaterSports.webp", description: "Jet skiing, parasailing & banana boat rides." },
        { id: 10, name: "Dubai Frame Experience", price: 65, image: "DubaiFrame.jpg", description: "Visit the world's largest frame structure." }
      ];
      
      displayTours(fallbackTours);
    };

    // Cart functionality
    const addToCart = (id, name, price) => {
      // Check if item already exists in cart
      const existingItemIndex = cartItems.findIndex(item => item.id === id);
      
      if (existingItemIndex !== -1) {
        // If exists, increase quantity
        cartItems[existingItemIndex].quantity += 1;
      } else {
        // If not exists, add new item
        cartItems.push({
          id: id,
          name: name,
          price: price,
          quantity: 1
        });
      }
      
      updateCart();
      showToast(`${name} added to cart!`);
    };

    const removeFromCart = (index) => {
      cartItems.splice(index, 1);
      updateCart();
    };

    const updateQuantity = (index, change) => {
      cartItems[index].quantity += change;
      
      if (cartItems[index].quantity <= 0) {
        removeFromCart(index);
      } else {
        updateCart();
      }
    };

    const updateCart = () => {
      // Update cart count
      const totalItems = cartItems.reduce((total, item) => total + item.quantity, 0);
      if (cartCount) cartCount.textContent = totalItems;
      if (cartCountMobile) cartCountMobile.textContent = totalItems;
      
      // Show empty cart message if no items
      if (cartItems.length === 0) {
        emptyCart.style.display = 'block';
        checkoutBtn.disabled = true;
      } else {
        emptyCart.style.display = 'none';
        checkoutBtn.disabled = false;
      }
      
      // Clear cart items container
      cartItemsContainer.innerHTML = '';
      
      // Add items to cart
      cartItems.forEach((item, index) => {
        const cartItemElement = document.createElement('div');
        cartItemElement.className = 'flex justify-between items-center mb-4 pb-4 border-b';
        cartItemElement.innerHTML = `
          <div class="flex-1">
            <h4 class="font-semibold">${item.name}</h4>
            <p class="text-gray-600">${formatPrice(item.price)} x ${item.quantity}</p>
          </div>
          <div class="flex items-center">
            <button onclick="updateQuantity(${index}, -1)" class="text-gray-500 hover:text-gray-700 mr-2">
              <i class="fas fa-minus-circle"></i>
            </button>
            <span class="mx-1">${item.quantity}</span>
            <button onclick="updateQuantity(${index}, 1)" class="text-gray-500 hover:text-gray-700 ml-2">
              <i class="fas fa-plus-circle"></i>
            </button>
            <button onclick="removeFromCart(${index})" class="text-red-500 hover:text-red-700 ml-4">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        `;
        cartItemsContainer.appendChild(cartItemElement);
      });
      
      // Calculate totals
      const subtotal = cartItems.reduce((total, item) => total + (item.price * item.quantity), 0);
      const tax = subtotal * 0.05;
      const total = subtotal + tax;
      
      // Update totals
      cartSubtotal.textContent = `${formatPrice(subtotal)}`;
      cartTax.textContent = `${formatPrice(tax)}`;
      cartTotal.textContent = `${formatPrice(total)}`;
    };

    // Cart panel functionality
    const openCartPanel = () => {
      cartPanel.classList.add('open');
      overlay.classList.add('open');
      document.body.style.overflow = 'hidden';
    };

    const closeCartPanel = () => {
      cartPanel.classList.remove('open');
      overlay.classList.remove('open');
      document.body.style.overflow = 'auto';
    };

    // Checkout function
    const proceedToCheckout = () => {
      if (cartItems.length === 0) {
        showToast('Please add items to cart first!', 'error');
        return;
      }
      
      // Save cart items to localStorage for cart.html
      localStorage.setItem('cartItems', JSON.stringify(cartItems));
      
      // Redirect to cart.html
      window.location.href = 'cart.html';
    };

    // Newsletter subscription
    const handleNewsletterSubscription = async (email) => {
      const btn = document.getElementById('newsletterBtn');
      const btnText = document.getElementById('newsletterBtnText');
      const spinner = document.getElementById('newsletterSpinner');
      
      btn.disabled = true;
      btnText.textContent = 'Subscribing...';
      spinner.classList.remove('hidden');
      
      try {
        await api.post('/newsletter/subscribe', { email });
        showToast('Successfully subscribed to our newsletter!');
        document.getElementById('newsletterEmail').value = '';
      } catch (error) {
        showToast('Failed to subscribe. Please try again.', 'error');
      } finally {
        btn.disabled = false;
        btnText.textContent = 'Subscribe';
        spinner.classList.add('hidden');
      }
    };

    // Initialize Application
    document.addEventListener("DOMContentLoaded", () => {
      // Load tours
      loadTours();
      
      // Initialize cart from localStorage if available
      const savedCart = localStorage.getItem('cartItems');
      if (savedCart) {
        cartItems = JSON.parse(savedCart);
        updateCart();
      }
      
      // Mobile menu toggle
      if (mobileMenuBtn && mobileMenu) {
        mobileMenuBtn.addEventListener("click", () => {
          mobileMenu.classList.toggle("hidden");
        });
      }
      
      // Cart panel events
      cartBtn.addEventListener('click', openCartPanel);
      if (document.getElementById('cartBtnMobile')) {
        document.getElementById('cartBtnMobile').addEventListener('click', openCartPanel);
      }
      closeCart.addEventListener('click', closeCartPanel);
      overlay.addEventListener('click', closeCartPanel);
      
      // Checkout button
      checkoutBtn.addEventListener('click', proceedToCheckout);
      
      // Newsletter subscription
      const newsletterForm = document.getElementById("newsletterForm");
      if (newsletterForm) {
        newsletterForm.addEventListener("submit", (e) => {
          e.preventDefault();
          const email = document.getElementById("newsletterEmail").value;
          if (email && email.includes("@")) {
            handleNewsletterSubscription(email);
          } else {
            showToast("Please enter a valid email address.", "error");
          }
        });
      }
      
      // Check backend health on load
      api.get('/health')
        .then(data => console.log('Backend health:', data))
        .catch(err => console.warn('Backend not reachable:', err.message));
    });
  </script>
</body>
</html>
